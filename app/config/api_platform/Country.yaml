# API Platform 4 Configuration for Country
# This file is ALWAYS regenerated by Genmax. DO NOT edit manually.
# @generated by Genmax Code Generator

resources:
  App\Entity\Country:
    shortName: Country
    description: "Countries reference data for international operations"

    # DTO configuration - processor is set per-operation to avoid affecting DELETE
    output: App\Dto\CountryOutputDto

    normalizationContext:
      groups: ["country:read"]

    denormalizationContext:
      groups: ["country:write"]

    order:
      name: ASC

    security: "is_granted('ROLE_USER')"

    operations:
      - class: ApiPlatform\Metadata\GetCollection
        security: "is_granted('ROLE_USER')"
      - class: ApiPlatform\Metadata\Get
        security: "is_granted('ROLE_USER')"
      - class: ApiPlatform\Metadata\Post
        input: App\Dto\CountryInputDto
        processor: App\State\CountryProcessor
        security: "is_granted('ROLE_USER')"
      - class: ApiPlatform\Metadata\Put
        input: App\Dto\CountryInputDto
        processor: App\State\CountryProcessor
        security: "is_granted('ROLE_USER')"
      - class: ApiPlatform\Metadata\Patch
        input: App\Dto\CountryInputDto
        processor: App\State\CountryProcessor
        security: "is_granted('ROLE_USER')"
      - class: ApiPlatform\Metadata\Delete
        security: "is_granted('ROLE_USER')"


    # Property-level configuration
    properties:
      iso2:
        description: "Two-letter country code (ISO 3166-1 alpha-2)"
        example: "US"
        # Advanced filters
        filters:
          - type: SearchFilter
            strategy: exact
          - type: SearchFilter
            strategy: partial
      name:
        description: "The brand name"
        example: "Nike"
        # Advanced filters
        filters:
          - type: SearchFilter
            strategy: partial
          - type: SearchFilter
            strategy: partial
          - type: OrderFilter
      iso3:
        description: "Three-letter country code (ISO 3166-1 alpha-3)"
        example: "USA"
        # Advanced filters
        filters:
          - type: SearchFilter
            strategy: exact
          - type: SearchFilter
            strategy: partial
      numericCode:
        description: "Three-digit country code (ISO 3166-1 numeric)"
        example: "840"
        # Advanced filters
        filters:
          - type: SearchFilter
            strategy: exact
          - type: SearchFilter
            strategy: partial
      currencyCode:
        description: "ISO 4217 currency code"
        example: "USD"
        # Advanced filters
        filters:
          - type: SearchFilter
            strategy: exact
          - type: SearchFilter
            strategy: partial
      phoneCode:
        description: "International phone dialing code"
        example: "+1"
        # Advanced filters
        filters:
          - type: SearchFilter
            strategy: partial
          - type: SearchFilter
            strategy: partial
      continent:
        description: "Continent name"
        example: "North America"
        # Advanced filters
        filters:
          - type: SearchFilter
            strategy: exact
      capital:
        description: "Capital city name"
        example: "Washington, D.C."
        # Advanced filters
        filters:
          - type: SearchFilter
            strategy: partial
          - type: SearchFilter
            strategy: partial
      currencySymbol:
        description: "Currency display symbol"
        example: "$"
      euMember:
        description: "European Union member state"
        example: "true"
        # Advanced filters
        filters:
          - type: BooleanFilter
      region:
        description: "UN geographic region"
        example: "Northern America"
        # Advanced filters
        filters:
          - type: SearchFilter
            strategy: exact
      nativeName:
        description: "Country name in native language"
        example: "United States of America"
      officialName:
        description: "Official full country name"
        example: "United States of America"
      active:
        description: "Whether country is active in the system"
        example: "1"
        # Advanced filters
        filters:
          - type: BooleanFilter
      subregion:
        description: "UN geographic subregion"
        example: "Northern America"
      latitude:
        description: "Geographic latitude"
        example: "38.9072"
      longitude:
        description: "Geographic longitude"
        example: "-77.0369"
      timezones:
        description: "Array of timezone identifiers"
        example: "[\"America\/New_York\"]"
      languages:
        description: "Array of ISO 639 language codes"
        example: "[\"en\"]"
      tld:
        description: "Country code top-level domain"
        example: ".us"
      nationalityName:
        description: "Demonym\/nationality name"
        example: "American"
      availableForShipping:
        description: "Country available for shipping operations"
        example: "1"
        # Advanced filters
        filters:
          - type: BooleanFilter
      availableForBilling:
        description: "Country available for billing operations"
        example: "1"
        # Advanced filters
        filters:
          - type: BooleanFilter
      schengenMember:
        description: "Schengen Area member state"
        example: "true"
        # Advanced filters
        filters:
          - type: BooleanFilter
      oecdMember:
        description: "OECD member country"
        example: "true"
        # Advanced filters
        filters:
          - type: BooleanFilter
      dataResidencyRequired:
        description: "Data localization laws in effect"
        example: "true"
        # Advanced filters
        filters:
          - type: BooleanFilter
      postalCodeFormat:
        description: "Postal code regex validation pattern"
        example: "^\\d{5}(-\\d{4})?$"
      postalCodeRequired:
        description: "Whether postal code is mandatory"
        example: "1"
        # Advanced filters
        filters:
          - type: BooleanFilter
      addressFormat:
        description: "Address format template"
        example: "{street}\\n{city}, {region} {postalCode}"
      taxIdRequired:
        description: "Tax ID\/VAT required for transactions"
        example: "true"
        # Advanced filters
        filters:
          - type: BooleanFilter
      population:
        description: "Current population estimate"
        example: "331900000"
        # Advanced filters
        filters:
          - type: NumericFilter
      area:
        description: "Total area in square kilometers"
        example: "9833520"
        # Advanced filters
        filters:
          - type: NumericFilter
      unMemberSince:
        description: "Year joined United Nations"
        example: "1945"
      flagEmoji:
        description: "Unicode flag emoji"
        example: "\ud83c\uddfa\ud83c\uddf8"
      flagSvgUrl:
        description: "URL to official flag SVG image"
        example: "https:\/\/flagcdn.com\/us.svg"
      holidayTemplates:
        writable: false
        description: "HolidayTemplates"
        example: "/api/holiday_templates/01234567-89ab-cdef-0123-456789abcdef"
