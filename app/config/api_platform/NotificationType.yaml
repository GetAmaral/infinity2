# API Platform 4 Configuration for NotificationType
# This file is ALWAYS regenerated by Genmax. DO NOT edit manually.
# @generated by Genmax Code Generator

resources:
  App\Entity\NotificationType:
    shortName: NotificationType
    description: "Notification types for the organization"

    normalizationContext:
      groups: ["notificationtype:read"]

    denormalizationContext:
      groups: ["notificationtype:write"]

    order:
      createdAt: DESC

    security: "is_granted('ROLE_ORGANIZATION_ADMIN')"

    operations:
      - class: ApiPlatform\Metadata\GetCollection
        security: "is_granted('ROLE_ORGANIZATION_ADMIN')"
      - class: ApiPlatform\Metadata\Get
        security: "is_granted('ROLE_ORGANIZATION_ADMIN')"
      - class: ApiPlatform\Metadata\Post
        security: "is_granted('ROLE_ORGANIZATION_ADMIN')"
      - class: ApiPlatform\Metadata\Put
        security: "is_granted('ROLE_ORGANIZATION_ADMIN')"
      - class: ApiPlatform\Metadata\Patch
        security: "is_granted('ROLE_ORGANIZATION_ADMIN')"
      - class: ApiPlatform\Metadata\Delete
        security: "is_granted('ROLE_ORGANIZATION_ADMIN')"



    # Property-level configuration
    properties:
      name:
        description: "The brand name"
        example: "Nike"
      description:
        description: "..."
        example: "..."
      icon:
        description: "Bootstrap icon class for visual representation in UI"
        example: "\"bi-envelope-fill\""
      notifications:
        writable: false
        description: "Collection of notification instances created from this type"
        example: "[\"\/api\/notifications\/0199cadd-5678-7506-9958-b9b877badbaa\"]"
      active:
        description: "Whether this notification type is currently active and can be used"
        example: "true"
        # Advanced filters
        filters:
          - type: BooleanFilter
      default:
        description: "Whether this is the default notification type for the organization"
        example: "false"
        # Advanced filters
        filters:
          - type: BooleanFilter
      channels:
        description: "Delivery channels for this notification type (email, sms, push, in_app, slack)"
        example: "[\"email\", \"push\"]"
      priority:
        description: "Priority level for this notification type (affects delivery speed and user visibility)"
        example: "\"normal\""
      color:
        description: "Hex color code for visual identification in UI"
        example: "\"#6f42c1\""
      emailSubject:
        description: "Email subject line template with placeholder support (e.g., {{user.name}}, {{order.id}})"
        example: "\"Your order #{{order.number}} has been confirmed\""
      emailTemplate:
        description: "Email body template in HTML or plain text format with placeholder support"
        example: "\"<p>Hello {{user.name}},<\/p><p>Your order #{{order.number}} has been confirmed.<\/p>\""
      smsTemplate:
        description: "SMS message template (max 500 chars) with placeholder support"
        example: "\"Hi {{user.name}}, your order #{{order.number}} is confirmed!\""
      pushTitle:
        description: "Title for push notification with placeholder support"
        example: "\"Order Confirmed\""
      pushBody:
        description: "Body text for push notification with placeholder support"
        example: "\"Your order #{{order.number}} has been confirmed and will be processed soon.\""
      frequency:
        description: "Frequency setting to prevent notification fatigue (immediate, daily_digest, weekly_digest)"
        example: "\"immediate\""
      retryEnabled:
        description: "Whether to retry failed notification delivery attempts"
        example: "true"
        # Advanced filters
        filters:
          - type: BooleanFilter
      maxRetries:
        description: "Maximum number of retry attempts for failed notifications"
        example: "3"
      throttleEnabled:
        description: "Whether to apply rate limiting\/throttling to prevent notification spam"
        example: "false"
        # Advanced filters
        filters:
          - type: BooleanFilter
      throttleLimit:
        description: "Maximum number of notifications of this type per user per hour"
        example: "10"
      tags:
        description: "Tags for categorization and filtering (e.g., [\"transactional\", \"order\", \"payment\"])"
        example: "[\"transactional\", \"order\"]"
      metadata:
        description: "Additional metadata and configuration as JSON object"
        example: "{\"slack_webhook\": \"https:\/\/hooks.slack.com\/...\", \"custom_field\": \"value\"}"
      userPreferenceAllowed:
        description: "Whether users can opt-out or customize their preference for this notification type"
        example: "true"
        # Advanced filters
        filters:
          - type: BooleanFilter
      requiresAction:
        description: "Whether this notification requires user action (e.g., approval, confirmation)"
        example: "false"
        # Advanced filters
        filters:
          - type: BooleanFilter
      expiresAfterHours:
        description: "Number of hours after which unread notifications of this type expire (null = never)"
        example: "168"
