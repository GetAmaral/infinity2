# API Platform 4 Configuration for BillingFrequency
# This file is ALWAYS regenerated by Genmax. DO NOT edit manually.
# @generated by Genmax Code Generator

resources:
  App\Entity\BillingFrequency:
    shortName: BillingFrequency
    description: "Defines billing frequency options for subscriptions (Daily, Weekly, Biweekly, Monthly, Quarterly, Semi-Annual, Annual, Biennial). Controls recurring billing intervals with support for custom cycles and discount management."

    # DTO configuration - processor is set per-operation to avoid affecting DELETE
    output: App\Dto\BillingFrequencyOutputDto

    normalizationContext:
      groups: ["billingfrequency:read"]

    denormalizationContext:
      groups: ["billingfrequency:write"]

    order:
      sortOrder: ASC
      name: ASC

    security: "is_granted('ROLE_DATA_ADMIN')"

    operations:
      - class: ApiPlatform\Metadata\GetCollection
        security: "is_granted('ROLE_DATA_ADMIN')"
      - class: ApiPlatform\Metadata\Get
        security: "is_granted('ROLE_DATA_ADMIN')"
      - class: ApiPlatform\Metadata\Post
        input: App\Dto\BillingFrequencyInputDto
        processor: App\State\BillingFrequencyProcessor
        security: "is_granted('ROLE_DATA_ADMIN')"
      - class: ApiPlatform\Metadata\Put
        input: App\Dto\BillingFrequencyInputDto
        processor: App\State\BillingFrequencyProcessor
        security: "is_granted('ROLE_DATA_ADMIN')"
      - class: ApiPlatform\Metadata\Patch
        input: App\Dto\BillingFrequencyInputDto
        processor: App\State\BillingFrequencyProcessor
        security: "is_granted('ROLE_DATA_ADMIN')"
      - class: ApiPlatform\Metadata\Delete
        security: "is_granted('ROLE_DATA_ADMIN')"


    # Property-level configuration
    properties:
      organization:
        description: "Organization"
        example: "/api/organizatia/01234567-89ab-cdef-0123-456789abcdef"
      value:
        description: "Unique code identifier for the billing frequency (e.g., \"monthly\", \"quarterly\", \"annual\"). Lowercase, underscore-separated."
        example: "monthly"
        # Advanced filters
        filters:
          - type: OrderFilter
      name:
        description: "The brand name"
        example: "Nike"
        # Advanced filters
        filters:
          - type: OrderFilter
      displayName:
        description: "Optional custom display name (e.g., \"Every 3 months\" instead of \"Quarterly\")"
        example: "Every 3 months"
        # Advanced filters
        filters:
          - type: OrderFilter
      description:
        description: "..."
        example: "..."
      intervalType:
        description: "Time unit for billing interval (day, week, month, year)"
        example: "month"
        # Advanced filters
        filters:
          - type: SearchFilter
            strategy: exact
          - type: OrderFilter
      intervalCount:
        description: "Number of interval units between billing cycles (e.g., 3 for quarterly when intervalType=month)"
        example: "1"
        # Advanced filters
        filters:
          - type: OrderFilter
          - type: NumericFilter
      daysInCycle:
        writable: false
        description: "Approximate number of days in a billing cycle (for sorting and comparison). Calculated from intervalType and intervalCount."
        example: "30"
        # Advanced filters
        filters:
          - type: OrderFilter
          - type: NumericFilter
      discountPercentage:
        description: "Optional discount percentage offered for this billing frequency (e.g., 15% off for annual billing)"
        example: "15.00"
        # Advanced filters
        filters:
          - type: OrderFilter
          - type: NumericFilter
      default:
        description: "Whether this is the default billing frequency for new subscriptions"
        example: "false"
        # Advanced filters
        filters:
          - type: OrderFilter
          - type: BooleanFilter
      sortOrder:
        description: "Display order for sorting billing frequencies (lower values appear first)"
        example: "10"
        # Advanced filters
        filters:
          - type: OrderFilter
          - type: NumericFilter
      active:
        description: "Whether this billing frequency is active and available for use"
        example: "true"
        # Advanced filters
        filters:
          - type: OrderFilter
          - type: BooleanFilter
      products:
        description: "Products associated..."
        example: "[{\"@id\": \"\/api\/products\/123\"}]"
        # Advanced filters
        filters:
          - type: OrderFilter
