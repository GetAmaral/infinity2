# API Platform 4 Configuration for EventResource
# This file is ALWAYS regenerated by Genmax. DO NOT edit manually.
# @generated by Genmax Code Generator

resources:
  App\Entity\EventResource:
    shortName: EventResource
    description: "Bookable resources (Rooms, Equipment, etc.)"

    # DTO configuration - processor is set per-operation to avoid affecting DELETE
    output: App\Dto\EventResourceOutputDto

    normalizationContext:
      groups: ["eventresource:read"]

    denormalizationContext:
      groups: ["eventresource:write"]

    order:
      createdAt: DESC

    security: "is_granted('ROLE_EVENT_ADMIN')"

    operations:
      - class: ApiPlatform\Metadata\GetCollection
        security: "is_granted('ROLE_EVENT_ADMIN')"
      - class: ApiPlatform\Metadata\Get
        security: "is_granted('ROLE_EVENT_ADMIN')"
      - class: ApiPlatform\Metadata\Post
        input: App\Dto\EventResourceInputDto
        processor: App\State\EventResourceProcessor
        security: "is_granted('ROLE_EVENT_ADMIN')"
      - class: ApiPlatform\Metadata\Put
        input: App\Dto\EventResourceInputDto
        processor: App\State\EventResourceProcessor
        security: "is_granted('ROLE_EVENT_ADMIN')"
      - class: ApiPlatform\Metadata\Patch
        input: App\Dto\EventResourceInputDto
        processor: App\State\EventResourceProcessor
        security: "is_granted('ROLE_EVENT_ADMIN')"
      - class: ApiPlatform\Metadata\Delete
        security: "is_granted('ROLE_EVENT_ADMIN')"


    # Property-level configuration
    properties:
      organization:
        description: "Organization"
        example: "/api/organizatia/01234567-89ab-cdef-0123-456789abcdef"
      name:
        description: "The brand name"
        example: "Nike"
        # Advanced filters
        filters:
          - type: OrderFilter
      description:
        description: "..."
        example: "..."
        # Advanced filters
        filters:
          - type: OrderFilter
      availabilitySchedule:
        description: "Weekly availability schedule defining when the resource can be booked"
        example: "{\"monday\": [{\"start\": \"09:00\", \"end\": \"17:00\"}], \"tuesday\": [{\"start\": \"09:00\", \"end\": \"17:00\"}], \"wednesday\": [{\"start\": \"09:00\", \"end\": \"17:00\"}], \"thursday\": [{\"start\": \"09:00\", \"end\": \"17:00\"}], \"friday\": [{\"start\": \"09:00\", \"end\": \"17:00\"}]}"
        # Advanced filters
        filters:
          - type: OrderFilter
      available:
        description: "Whether the resource is currently available for booking (independent of active status)"
        example: "true"
        # Advanced filters
        filters:
          - type: OrderFilter
      active:
        description: "Whether the resource is currently active in the system"
        example: "true"
        # Advanced filters
        filters:
          - type: OrderFilter
      bookable:
        description: "Whether the resource can be booked online via API or user interface"
        example: "true"
        # Advanced filters
        filters:
          - type: OrderFilter
      timezone:
        description: "Timezone identifier for this resource (defaults to organization timezone if not set)"
        example: "America\/Sao_Paulo"
      requiresApproval:
        description: "Whether bookings for this resource require manager or admin approval"
        example: "false"
        # Advanced filters
        filters:
          - type: OrderFilter
      autoConfirm:
        description: "Whether bookings are automatically confirmed without manual intervention"
        example: "true"
        # Advanced filters
        filters:
          - type: OrderFilter
      minimumBookingDuration:
        description: "Minimum booking duration in minutes"
        example: "30"
      maximumBookingDuration:
        description: "Maximum booking duration in minutes (null = unlimited)"
        example: "480"
      pricePerHour:
        description: "Hourly rental cost for this resource"
        example: "50.00"
        # Advanced filters
        filters:
          - type: OrderFilter
      bookingRules:
        description: "Custom booking rules and restrictions for this resource"
        example: "{\"maxAdvanceBookingDays\": 90, \"bufferMinutes\": 15, \"allowWeekends\": true, \"allowedRoles\": [\"ROLE_EMPLOYEE\", \"ROLE_MANAGER\"]}"
        # Advanced filters
        filters:
          - type: OrderFilter
      pricePerDay:
        description: "Daily rental cost for this resource"
        example: "300.00"
        # Advanced filters
        filters:
          - type: OrderFilter
      imageUrl:
        description: "URL to the main image of this resource"
        example: "https:\/\/example.com\/images\/conference-room-a.jpg"
      thumbnailUrl:
        description: "URL to the thumbnail image for list views"
        example: "https:\/\/example.com\/images\/thumbs\/conference-room-a.jpg"
      tags:
        description: "Flexible tags for categorization and searching"
        example: "[\"projector\", \"whiteboard\", \"video-conference\", \"accessibility\"]"
      capacity:
        description: "Maximum number of people or items the resource can accommodate"
        example: "20"
        # Advanced filters
        filters:
          - type: OrderFilter
      city:
        description: "The city where this resource is located"
        example: "\/api\/cities\/0199cadd-1234-5678-9abc-def012345678"
        # Advanced filters
        filters:
          - type: OrderFilter
      equipment:
        description: "List of equipment\/amenities available with this resource"
        example: "{\"items\": [\"projector\", \"whiteboard\", \"video_conference\", \"phone\"], \"notes\": \"All equipment included in booking\"}"
        # Advanced filters
        filters:
          - type: OrderFilter
      eventBookings:
        description: "Collection of all bookings for this resource"
        example: "[\"\/api\/event_resource_bookings\/0199cadd-1234-5678-9abc-def012345678\"]"
        # Advanced filters
        filters:
          - type: OrderFilter
      geoCoordinates:
        description: "Geographic coordinates in format: latitude,longitude"
        example: "40.7128,-74.0060"
        # Advanced filters
        filters:
          - type: OrderFilter
      location:
        description: "Physical location or address of the resource"
        example: "Building 2, Floor 3, Room 301"
        # Advanced filters
        filters:
          - type: OrderFilter
      type:
        description: "The type\/category of this resource"
        example: "\/api\/event_resource_types\/0199cadd-1234-5678-9abc-def012345678"
        # Advanced filters
        filters:
          - type: OrderFilter
