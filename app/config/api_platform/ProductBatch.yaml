# API Platform 4 Configuration for ProductBatch
# This file is ALWAYS regenerated by Genmax. DO NOT edit manually.
# @generated by Genmax Code Generator

resources:
  App\Entity\ProductBatch:
    shortName: ProductBatch
    description: "Tracks product batches with manufacturing dates, expiry dates, lot numbers, and inventory quantities for complete supply chain traceability"

    # DTO configuration - processor is set per-operation to avoid affecting DELETE
    output: App\Dto\ProductBatchOutputDto

    normalizationContext:
      groups: ["productbatch:read","productbatch:list"]

    denormalizationContext:
      groups: ["productbatch:write","productbatch:create"]

    order:
      createdAt: DESC

    security: "is_granted('ROLE_ORGANIZATION_ADMIN')"

    operations:
      - class: ApiPlatform\Metadata\GetCollection
        security: "is_granted('ROLE_USER')"
        validationContext:
          groups: ["Default","create","update","strict"]
      - class: ApiPlatform\Metadata\Get
        security: "is_granted('ROLE_USER')"
        validationContext:
          groups: ["Default","create","update","strict"]
      - class: ApiPlatform\Metadata\Post
        input: App\Dto\ProductBatchInputDto
        processor: App\State\ProductBatchProcessor
        security: "is_granted('ROLE_ORGANIZATION_ADMIN')"
        validationContext:
          groups: ["Default","create"]
      - class: ApiPlatform\Metadata\Put
        input: App\Dto\ProductBatchInputDto
        processor: App\State\ProductBatchProcessor
        security: "is_granted('ROLE_ORGANIZATION_ADMIN')"
        validationContext:
          groups: ["Default","update"]
      - class: ApiPlatform\Metadata\Patch
        input: App\Dto\ProductBatchInputDto
        processor: App\State\ProductBatchProcessor
        security: "is_granted('ROLE_ORGANIZATION_ADMIN')"
        validationContext:
          groups: ["Default","create","update","strict"]
      - class: ApiPlatform\Metadata\Delete
        security: "is_granted('ROLE_ORGANIZATION_ADMIN')"
        validationContext:
          groups: ["Default","create","update","strict"]


    # Property-level configuration
    properties:
      organization:
        description: "Organization"
        example: "/api/organizatia/01234567-89ab-cdef-0123-456789abcdef"
      batchNumber:
        description: "Batch Number (text field)"
        example: "Sample longer text value"
        # Advanced filters
        filters:
          - type: OrderFilter
      name:
        description: "The brand name"
        example: "Nike"
        # Advanced filters
        filters:
          - type: OrderFilter
      manufacturingDate:
        description: "Manufacturing Date (date)"
        example: "2025-01-15"
        # Advanced filters
        filters:
          - type: OrderFilter
      lotNumber:
        description: "Lot Number (text field)"
        example: "Sample longer text value"
        # Advanced filters
        filters:
          - type: OrderFilter
      serialNumber:
        description: "Serial Number (text field)"
        example: "Sample longer text value"
        # Advanced filters
        filters:
          - type: OrderFilter
      expired:
        writable: false
        description: "Expired (yes\/no)"
        example: "true"
        # Advanced filters
        filters:
          - type: OrderFilter
      supplier:
        description: "Supplier (text field)"
        example: "Sample longer text value"
        # Advanced filters
        filters:
          - type: OrderFilter
      qualityStatus:
        description: "Quality Status (text field)"
        example: "Sample text"
        # Advanced filters
        filters:
          - type: OrderFilter
      notes:
        description: "Additional notes"
        example: "This is a longer text field with more content"
      availableQuantity:
        description: "AvailableQuantity (numeric value)"
        example: "42"
        # Advanced filters
        filters:
          - type: OrderFilter
      active:
        description: "Whether this record is active"
        example: "true"
        # Advanced filters
        filters:
          - type: OrderFilter
      commissionAmount:
        description: "CommissionAmount (decimal value)"
        example: "99.99"
        # Advanced filters
        filters:
          - type: OrderFilter
      commissionRate:
        description: "CommissionRate (decimal value)"
        example: "99.99"
        # Advanced filters
        filters:
          - type: OrderFilter
      costPrice:
        description: "CostPrice (decimal value)"
        example: "99.99"
        # Advanced filters
        filters:
          - type: OrderFilter
      currency:
        description: "Currency (text field)"
        example: "Sample longer text value"
        # Advanced filters
        filters:
          - type: OrderFilter
      discountAmount:
        description: "DiscountAmount (decimal value)"
        example: "99.99"
        # Advanced filters
        filters:
          - type: OrderFilter
      discountPercentage:
        description: "DiscountPercentage (decimal value)"
        example: "99.99"
        # Advanced filters
        filters:
          - type: OrderFilter
      exchangeRate:
        description: "ExchangeRate"
        example: "sample value"
        # Advanced filters
        filters:
          - type: OrderFilter
      expirationDate:
        description: "ExpirationDate (date)"
        example: "2025-01-15"
        # Advanced filters
        filters:
          - type: OrderFilter
      listPrice:
        description: "ListPrice (decimal value)"
        example: "99.99"
        # Advanced filters
        filters:
          - type: OrderFilter
      marginPercentage:
        description: "MarginPercentage (decimal value)"
        example: "99.99"
        # Advanced filters
        filters:
          - type: OrderFilter
      maximumDiscount:
        description: "MaximumDiscount (decimal value)"
        example: "99.99"
        # Advanced filters
        filters:
          - type: OrderFilter
      minimumPrice:
        description: "MinimumPrice (decimal value)"
        example: "99.99"
        # Advanced filters
        filters:
          - type: OrderFilter
      product:
        description: "Product"
        example: "sample value"
        # Advanced filters
        filters:
          - type: OrderFilter
      reservedQuantity:
        description: "ReservedQuantity (numeric value)"
        example: "42"
        # Advanced filters
        filters:
          - type: OrderFilter
      stockQuantity:
        description: "StockQuantity (numeric value)"
        example: "42"
        # Advanced filters
        filters:
          - type: OrderFilter
