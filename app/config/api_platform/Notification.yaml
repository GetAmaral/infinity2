# API Platform 4 Configuration for Notification
# This file is ALWAYS regenerated by Genmax. DO NOT edit manually.
# @generated by Genmax Code Generator

resources:
  App\Entity\Notification:
    shortName: Notification
    description: "System notifications for users"

    normalizationContext:
      groups: ["notification:read"]

    denormalizationContext:
      groups: ["notification:write"]

    order:
      createdAt: DESC

    security: "is_granted('ROLE_EVENT_ADMIN')"

    operations:
      - class: ApiPlatform\Metadata\GetCollection
        security: "is_granted('ROLE_EVENT_ADMIN')"
      - class: ApiPlatform\Metadata\Get
        security: "is_granted('ROLE_EVENT_ADMIN')"
      - class: ApiPlatform\Metadata\Post
        security: "is_granted('ROLE_EVENT_ADMIN')"
      - class: ApiPlatform\Metadata\Put
        security: "is_granted('ROLE_EVENT_ADMIN')"
      - class: ApiPlatform\Metadata\Patch
        security: "is_granted('ROLE_EVENT_ADMIN')"
      - class: ApiPlatform\Metadata\Delete
        security: "is_granted('ROLE_EVENT_ADMIN')"


    # Property-level configuration
    properties:
      organization:
        description: "Organization"
        example: "/api/organizations/01234567-89ab-cdef-0123-456789abcdef"
      title:
        description: "The notification title or subject line"
        example: "New message from John Doe"
      recipient:
        description: "The user who receives this notification"
        example: "\/api\/users\/01234567-89ab-cdef-0123-456789abcdef"
      sender:
        description: "The user who triggered this notification (optional for system notifications)"
        example: "\/api\/users\/01234567-89ab-cdef-0123-456789abcdef"
      priority:
        description: "Priority level: low, medium, high, urgent"
        example: "high"
      actionUrl:
        description: "URL to the resource or action related to this notification"
        example: "\/events\/123\/details"
      attendee:
        description: "Related attendee for attendee-specific notifications"
        example: "\/api\/event_attendees\/01234567-89ab-cdef-0123-456789abcdef"
      read:
        description: "Indicates whether the notification has been read by the recipient"
        example: "true"
      archived:
        description: "Indicates whether the notification has been archived by the recipient"
        example: "false"
      readAt:
        writable: false
        description: "Timestamp when the notification was read by the recipient"
        example: "2025-10-19T14:30:00+00:00"
      communicationMethod:
        description: "Communication method used to send this notification"
        example: "\/api\/communication_methods\/01234567-89ab-cdef-0123-456789abcdef"
      event:
        description: "Related event for event-based notifications"
        example: "\/api\/events\/01234567-89ab-cdef-0123-456789abcdef"
      message:
        description: "The main body content of the notification message"
        example: "Your event \"Team Meeting\" starts in 15 minutes."
      notificationStatus:
        writable: false
        description: "DEPRECATED: Use read boolean field instead. Legacy status code."
        example: "1"
      reminder:
        description: "Related reminder for reminder-based notifications"
        example: "\/api\/reminders\/01234567-89ab-cdef-0123-456789abcdef"
      sentAt:
        description: "Timestamp when the notification was sent"
        example: "2025-10-19T14:30:00+00:00"
      talkMessage:
        description: "Related talk message for chat-based notifications"
        example: "\/api\/talk_messages\/01234567-89ab-cdef-0123-456789abcdef"
      type:
        description: "The type\/category of this notification"
        example: "\/api\/notification_types\/01234567-89ab-cdef-0123-456789abcdef"
